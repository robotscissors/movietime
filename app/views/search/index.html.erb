<h1>Search Results</h1>
<p>Total results: <%= @total_results %></p>
<div class="results">
  <% @search_results.each do |result| %>
    <div class="result-item">
      <% case result['media_type'] %>
      <%  when 'movie' %>
            <% if result['poster_path'] %>
              <%= link_to image_tag("https://image.tmdb.org/t/p/w200/#{result['poster_path']}", :alt => "Image of #{result['original_name']}"), root_url + 'movie/show?' + {movie_id: result['id']}.to_param, method: :get  %>
            <% else %>
              <%= image_tag("image-not-available.jpg", :alt => "Image not available.") %>
            <% end %>
      <%  when 'tv' %>
            <% if result['poster_path'] %>
              <%= link_to image_tag("https://image.tmdb.org/t/p/w200/#{result['poster_path']}", :alt => "Image of #{result['original_name']}"), root_url + 'tv/show?' + {tv_id: result['id']}.to_param, method: :get   %>
            <% else %>
              <%= image_tag("image-not-available.jpg", :alt => "Image not available.") %>
            <% end %>
      <%  when 'person' %>
            <% if result['profile_path'] %>
              <%= link_to image_tag("https://image.tmdb.org/t/p/w200/#{result['profile_path']}", :alt => "Image of #{result['name']}") , root_url + 'person/show?' + {person_id: result['id']}.to_param, method: :get %>
            <% else %>
              <%= image_tag("image-not-available.jpg", :alt => "Image not available.") %>
            <% end %>
      <% end %>

    </div>
  <% end %>
</div>
<div class="pagination">
  <% 1.upto(@total_pages) do |x| %>
    <% if x === @page %>
    <u><%= "#{x}" %></u>
    <% else %>
    <%= link_to "#{x}", root_url + 'search/index?'+ {query: @search_query, page: x}.to_param, method: :get  %>
    <% end %>
  <% end %>
</div>
